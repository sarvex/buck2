"use strict";(self.webpackChunkwebsite=self.webpackChunkwebsite||[]).push([[3040],{3905:(e,t,r)=>{r.r(t),r.d(t,{MDXContext:()=>l,MDXProvider:()=>d,mdx:()=>_,useMDXComponents:()=>c,withMDXComponents:()=>s});var a=r(67294);function n(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function i(){return i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},i.apply(this,arguments)}function o(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,a)}return r}function u(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?o(Object(r),!0).forEach((function(t){n(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):o(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function p(e,t){if(null==e)return{};var r,a,n=function(e,t){if(null==e)return{};var r,a,n={},i=Object.keys(e);for(a=0;a<i.length;a++)r=i[a],t.indexOf(r)>=0||(n[r]=e[r]);return n}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)r=i[a],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}var l=a.createContext({}),s=function(e){return function(t){var r=c(t.components);return a.createElement(e,i({},t,{components:r}))}},c=function(e){var t=a.useContext(l),r=t;return e&&(r="function"==typeof e?e(t):u(u({},t),e)),r},d=function(e){var t=c(e.components);return a.createElement(l.Provider,{value:t},e.children)},f="mdxType",h={inlineCode:"code",wrapper:function(e){var t=e.children;return a.createElement(a.Fragment,{},t)}},m=a.forwardRef((function(e,t){var r=e.components,n=e.mdxType,i=e.originalType,o=e.parentName,l=p(e,["components","mdxType","originalType","parentName"]),s=c(r),d=n,f=s["".concat(o,".").concat(d)]||s[d]||h[d]||i;return r?a.createElement(f,u(u({ref:t},l),{},{components:r})):a.createElement(f,u({ref:t},l))}));function _(e,t){var r=arguments,n=t&&t.mdxType;if("string"==typeof e||n){var i=r.length,o=new Array(i);o[0]=m;var u={};for(var p in t)hasOwnProperty.call(t,p)&&(u[p]=t[p]);u.originalType=e,u[f]="string"==typeof e?e:n,o[1]=u;for(var l=2;l<i;l++)o[l]=r[l];return a.createElement.apply(null,o)}return a.createElement.apply(null,r)}m.displayName="MDXCreateElement"},58608:(e,t,r)=>{r.r(t),r.d(t,{assets:()=>p,contentTitle:()=>o,default:()=>c,frontMatter:()=>i,metadata:()=>u,toc:()=>l});var a=r(87462),n=(r(67294),r(3905));const i={id:"ensured_artifact_group"},o="ensured_artifact_group type",u={unversionedId:"api/bxl/ensured_artifact_group",id:"api/bxl/ensured_artifact_group",title:"ensured_artifact_group type",description:"An artifact group that will be materialized to buck-out at the end of the bxl invocation. These artifacts can be printed to bxl's results. Doing so will print the path of each artifact in the group rather than the standard representation.",source:"@site/../docs/api/bxl/ensured_artifact_group.generated.md",sourceDirName:"api/bxl",slug:"/api/bxl/ensured_artifact_group",permalink:"/docs/api/bxl/ensured_artifact_group",draft:!1,tags:[],version:"current",frontMatter:{id:"ensured_artifact_group"},sidebar:"manualSidebar",previous:{title:"ensured_artifact type",permalink:"/docs/api/bxl/ensured_artifact"},next:{title:"fs type",permalink:"/docs/api/bxl/fs"}},p={},l=[{value:"ensured_artifact_group.abs_path",id:"ensured_artifact_groupabs_path",level:2},{value:"Details",id:"details",level:4},{value:"ensured_artifact_group.rel_path",id:"ensured_artifact_grouprel_path",level:2},{value:"Details",id:"details-1",level:4}],s={toc:l};function c(e){let{components:t,...r}=e;return(0,n.mdx)("wrapper",(0,a.Z)({},s,r,{components:t,mdxType:"MDXLayout"}),(0,n.mdx)("h1",{id:"ensured_artifact_group-type"},(0,n.mdx)("inlineCode",{parentName:"h1"},"ensured_artifact_group")," type"),(0,n.mdx)("p",null,"An artifact group that will be materialized to buck-out at the end of the bxl invocation. These artifacts can be printed to bxl's results. Doing so will print the path of each artifact in the group rather than the standard representation."),(0,n.mdx)("p",null,"Ensured artifact groups are serializable and hashable."),(0,n.mdx)("h2",{id:"ensured_artifact_groupabs_path"},"ensured_artifact_group.abs_path"),(0,n.mdx)("pre",null,(0,n.mdx)("code",{parentName:"pre",className:"language-python"},'def ensured_artifact_group.abs_path() -> ""\n')),(0,n.mdx)("p",null,"Converts each artifact in this artifact group to be printed by its absolute path. Note that this will only print out the absolute path via ",(0,n.mdx)("inlineCode",{parentName:"p"},"ctx.output.print()"),". Starlark's ",(0,n.mdx)("inlineCode",{parentName:"p"},"print()")," will print out the display info for an ensured artifact group."),(0,n.mdx)("h4",{id:"details"},"Details"),(0,n.mdx)("p",null,"Sample usage:"),(0,n.mdx)("pre",null,(0,n.mdx)("code",{parentName:"pre",className:"language-text"},'def _impl_abs_path(ctx):\n    # some target with RunInfo outputs\n    result = ctx.analysis("root//bin/kind:target_with_outputs")\n    ensured = ctx.output.ensure_multiple(result.providers()[RunInfo]) # currently defaults to creating an EnsuredArtifactGroup with a relative path\n\n    ensured_with_abs_path = ensured.abs_path() # create a new EnsuredArtifactGroup with absolute path to reuse\n    print(ensured_with_abs_path) # should return something like <ensured group ... >\n    ctx.output.print(ensured_with_abs_path) # should return the absolute path of the artifact\n')),(0,n.mdx)("hr",null),(0,n.mdx)("h2",{id:"ensured_artifact_grouprel_path"},"ensured_artifact_group.rel_path"),(0,n.mdx)("pre",null,(0,n.mdx)("code",{parentName:"pre",className:"language-python"},'def ensured_artifact_group.rel_path() -> ""\n')),(0,n.mdx)("p",null,"Converts each artifact in this artifact group to be printed by its path relative to the project root. Note that this will only print out the relative path via ",(0,n.mdx)("inlineCode",{parentName:"p"},"ctx.output.print()"),". Starlark's ",(0,n.mdx)("inlineCode",{parentName:"p"},"print()")," will print out the display info for an ensured artifact group."),(0,n.mdx)("h4",{id:"details-1"},"Details"),(0,n.mdx)("p",null,"Sample usage:"),(0,n.mdx)("pre",null,(0,n.mdx)("code",{parentName:"pre",className:"language-text"},'def _impl_rel_path(ctx):\n    # some target with RunInfo outputs\n    result = ctx.analysis("root//bin/kind:target_with_outputs")\n    ensured = ctx.output.ensure_multiple(result.providers()[RunInfo]) # currently defaults to creating an EnsuredArtifactGroup with a relative path\n\n    ensured_with_rel_path = ensured.rel_path() # create a new EnsuredArtifact with relative path to reuse\n    print(ensured_with_rel_path) # should return something like <ensured group ... >\n    ctx.output.print(ensured_with_rel_path) # should return the relative path of the artifact\n')))}c.isMDXComponent=!0}}]);